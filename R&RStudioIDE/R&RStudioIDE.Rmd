---
title: "Nuevas tecnologías para el análisis astadístico de datos"
subtitle: 'R y RStudio IDE'
author: "Natalia da Silva (natalia@iesta.edu.uy, @pacocuak)"
date: ""
output:
  xaringan::moon_reader:
    css: ["myslides", "rladies-font.css"]
    self_contained: false
    nature:
      highlightStyle: github
      highlightLines: true
      countIncrementalSlides: false
---
# R es ...

  - Un lenguaje y ambiente para hacer estadística computacional y gráfica
  - Es el software más comunmente utilizado en la sciencia de datos [kdnuggets](https://www.kdnuggets.com/2017/05/poll-analytics-data-science-machine-learning-software-leaders.html) 
  - De uso **gratis** y **abierto** por lo que podemos ver el código 
  - **Extensible:**  más de 12000 contribuciones de paquetes en CRAN (The Comprehensive R Archive Network)! Bioconductor tiene más de 1400 paquetes y hay otros disponibles en github.
  - **Potente:** Usando las herramientas adecuadas se puede hacer el trabajo más rápido y mejor
  - **Flexible:** pequeños cambios en la tarea se logran con pequeños cambios en el código que está disponible para el usuario 
---

# Qué puede hacer R 

- Gráficos, estadística, machine learning, etc. 

- Leer, manipular y modificar datos

- Programación alfabetizada (reportes dinámicos) 

- Aplicaciones web (páginas web, blogs, shiny apps)
---

# Cómo instalar R

R se actualiza dos veces al año y es recomendable tenerlo actualizado

- Ir a [http://www.r-project.org]

- Seleccionar el link CRAN (Comprehensive R Archive Network )

- Seleccionar un mirror para bajar R (el más cercano geográficamente no siempre es el mejor)

- Bajar e instalar R para el sistema operativo de tu computadora 
---

# IDE

Recomendable usar un IDE (entorno de desarrollo integrado) para facilitar el desarrollo de código en R entre otros.

IDE ejemplos: 

- [Tinn-R](https://sourceforge.net/projects/tinn-r/files/)
- [R commander](http://www.rcommander.com)
- [RStudio](https://www.rstudio.com) 

En esta clase vamos a usar RStudio
---

# RStudio  

 RStudio es una empresa que desarrolla herramientas gratis y abiertas para R.

 Julie Lowndes:
 
''If R were an airplane, RStudio would be the airport, providing many, many supporting services that make it easier for you, the pilot, to take off and go to awesome places. Sure, you can fly an airplane without an airport, but having those runways and supporting infrastructure is a game-changer.''
---

# RStudio IDE 
IDE: Integrated Development Environment for R

Porqué usarlo ?

- Integra las herramientas que uno usa en R en un único ambiente

- Resalta el código, completa código e indentación inteligente

- Ejecuta código R directamente desde el editor de origen

- Salta rápidamente a las definiciones de funciones

- Se ejecuta en la mayoría de los escritorios o en servidores pero también puede accederse en la web

- Incluye poderosas herramientas para programar diseñadas para mejorar tu productividad 

- Facilita una rápida navegación a archivos y funciones

- Hace sencillo comenzar un nuevo proyecto o encontrar proyectos ya existentes
---


# Cómo instalar RStudio

- Ir a  https://www.rstudio.com/

- Mouse sobre Products y seleccionar RStudio

- Seleccionar y bajar  RStudio Desktop 
---

# RStudio IDE

<img src="rstudio.pdf" height="500px" width="800px" />
---

# RStudio IDE, 1 Panel de Código
<img src="rstudio.pdf" height="100px" width="160px" />

- Estación de acoplamiento de múltiples archivos
- Atajos útiles, ejemplo `Knit`, `Run`
- Resaltado en linea/completado de código
- Checkea el código (R, HTML, JS)
- Debugging


---

# RStudio IDE, 1 Panel de Código

<img src="codpane.pdf" height="500px" width="800px" />
---

#  RStudio IDE, 1 Panel de Código
<img src="codpane.pdf" height="100px" width="160px" />
- 1 Pestaña de trabajo actual, nombre del archivo y extensión.
- 2 Ventana independiente para el archivo actual.
- 3 Guardar el archivo actual.
- 4 Chequeo ortográfico. 
- 5 Buscar y Reemplazar.
- 6 Compila el documento interactivo, ejemplo Rmd, Rnw.
- 7 Opciones para el documento.
- 8 Insertar chunks de diferentes lenguajes
- 9 Moverme en el documento
- 10 Ejecutar todo el código con el comando .
- 11 Publicar el archivo online.

---

# RStudio IDE, 1 Panel de Código

Acceso rápido a
```{r, echo=FALSE,message=FALSE,warning=FALSE, results='asis'}
library(tidyverse)
library(xtable)
data_frame(
  Comando = c('[tab]', '[control] + [shift] + [A]', '[control] + [enter]', '[control] + [s]' ),
  Uso = c("Opción autocompletado de código","Formatea código de R seleccionado ","Ejecuta  las líneas seleccionadas ","Salva el archivo" )
) %>% xtable() %>% print.xtable(type = "html")



```

usuarios mac  [command] en vez de [control]
---

# RStudio IDE, 2 Panel de Consola

**2 Panel de Consola**
- Resaltado en linea/completado de código
- Búsqueda de comandos recientes

---

# Componentes de RStudio IDE
<img src="rstudio.pdf" height="100px" width="160px" />

3 **Panel de entorno**
- Herramientas para desarrollo de paquetes, git, etc


4 **Otras tabs/panel**
- Grápicos
- Documentación de R 
- Sistema de navegación/acceso de archivos
---

# Hábitos de trabajo vs productos

Cosas que hacemos por gusto personal:

- El editor de R que usamos
- El nombre del directorio donde trabajamos "../pepapig"

Los productos: 

- los datos crudos
- el código R que se necesita para que cualquiera corra tu código y obtenga los mismos resultados incluyendo las librerías necesarias.

IMPORTANTE: No ates nada de tus hábitos (ej: "../pepapig") en tu producto.

---

# setwd()

¿Para qué sirve esta función?

¿Problema de usar `setwd()` en tu código?

`setwd("/Users/natydasilva/jajajuas")`

---

# NO USAR `setwd()`!!!

 Hace tu código frágil, y no reproducible
 
- Cuando renombres el directorio.
- Cambies de compu.
- Lo  compartas.

---

# Crear proyectos en R


- Organizar cada análisis de datos en un proyecto (Carpeta en tu compu que contine todos los archvos relevantes para tu trabajo particular)

- En RStudio es sencillo de implementar. 

- El código se escribe asumiendo que el directrio de trabajo queda fijado al directorio del proyecto, código reproducible.

---

# ¿Porqué trabajar en proyectos?

 Nos garantiza que el proyecto puede ser movido y el código aún funciona

---

# Proyectos y el paquete `here` 

Para eliminar `setwd()`:

- Trabajar con proyectos, carpetas para cada uno con todo lo necesario.

- Usar `here()` del paquete `here` para que nos de la ruta para leer o escribir archivos.

- `here()` nos da la ruta relativa al directorio donde vive el proyecto.

---


# `here()`


```{r, message=FALSE,warning=FALSE}
library(here)
here()

```

Ruta a el archivo `datos.txt` en un subdirectorio
```{r, message=FALSE,warning=FALSE}

here("R&RStudioIDE",  "datos.txt")
```

